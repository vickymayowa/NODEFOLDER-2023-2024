<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NODE DASHBOARD</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="container text-center mt-5">
        <h1 class="fw-lighter text-2xl">Welcome to Dashboard</h1>
        <% if (response.length > 0) { %>
        <table class="table-auto border border-collapse border-info">
            <thead>
                <tr>
                    <th class="px-4 py-2">S/N</th>
                    <th class="px-4 py-2">FIRSTNAME</th>
                    <th class="px-4 py-2">EMAIL</th>
                    <th class="px-4 py-2">BIO</th>
                    <th class="px-4 py-2">ACTIONS</th>
                </tr>
            </thead>
            <tbody>
                <% for (let index = 0; index < response.length; index++) { %>
                    <tr>
                        <td class="border px-4 py-2"><%= index + 1 %></td>
                        <td class="border px-4 py-2"><%= response[index].firstname %></td>
                        <td class="border px-4 py-2"><%= response[index].email %></td>
                        <td class="border px-4 py-2"><%= response[index].message %></td>
                        <td class="border px-4 py-2">
                            <form action="/delete" method="post">
                                <input type="hidden" name="userEmail" value="<%= response[index].email %>">
                                <button type="submit" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-full mt-2">Delete</button>
                            </form>
                            <form action="/edit" method="post">
                                <input type="hidden" name="userEmail" value="<%= response[index].email %>">
                                <button type="submit" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-full mt-2">Edit</button>
                            </form>                            
                        </td>
                    </tr>
                <% } %>
            </tbody>
        </table>
        <% } else { %>
            <div class="text-center bg-dark text-white p-4 mt-2">No users found</div>
        <% } %>
        <a href="/signIn" class="text-dark">
            <button class="bg-dark hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full mt-2">
                Back to Sign_In
            </button>
        </a>
    </div>
</body>
</html>
